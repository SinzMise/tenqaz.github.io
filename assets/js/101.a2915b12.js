(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{429:function(t,r,e){"use strict";e.r(r);var a=e(1),o=Object(a.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h2",{attrs:{id:"前言"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),r("p",[t._v("本周刊每周五发送，主要内容是我在每周看到的有价值的信息，目的是希望自己加强对优秀的内容深入的理解，另一方面好的内容想要分享出来，让更多的人看到。")]),t._v(" "),r("h2",{attrs:{id:"工具"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#工具"}},[t._v("#")]),t._v(" 工具")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://91huajian.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("91化简"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("一个免费制作简历的平台")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://api.aa1.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("免费API"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("包含了上百项免费 API 提供使用。")]),t._v(" "),r("h2",{attrs:{id:"项目"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#项目"}},[t._v("#")]),t._v(" 项目")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/usememos/memos",target:"_blank",rel:"noopener noreferrer"}},[t._v("memos"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("开源的私人博客，类似于 flomo，通过 docker 可以快速部署。")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/zmh-program/code-statistic",target:"_blank",rel:"noopener noreferrer"}},[t._v("code-statistic"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("可以用来统计 github 上用户或者仓库的信息，可以通过超链接来展示。\n"),r("img",{attrs:{src:"https://stats.deeptrain.net/user/tenqaz/",alt:""}}),t._v(" "),r("img",{attrs:{src:"https://stats.deeptrain.net/repo/tenqaz/tornado_learning",alt:""}})]),t._v(" "),r("h2",{attrs:{id:"文章"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#文章"}},[t._v("#")]),t._v(" 文章")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://superfastpython.com/processes-slower-than-threads/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Processes Are About 40x Slower Than Threads in Python（进程比 Python 中的线程慢大约 40 倍）"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("python 有三种启动进程的方式：")]),t._v(" "),r("ol",[r("li",[t._v("spawn，父进程启动一个新的 Python 解析器，只继承 run 方法中需要的资源。")]),t._v(" "),r("li",[t._v("fork，使用 "),r("code",[t._v("os.fork")]),t._v(" 系统调用启动一个 Python 解析器，继承父进程的所有资源，但是如果父进程是多线程，fork 时有死锁的风险，详情参考："),r("a",{attrs:{href:"https://pythonspeed.com/articles/python-multiprocessing/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Why your multiprocessing Pool is stuck"),r("OutboundLink")],1),t._v(" ，多线程不会被复制到子进程中。")]),t._v(" "),r("li",[t._v("forkserver，向 "),r("code",[t._v("fork server")]),t._v(" 发送指令，由它 "),r("code",[t._v("os.fork")]),t._v(" 子进程，而该 "),r("code",[t._v("fork server")]),t._v(" 是单线程，所有无该风险。")])]),t._v(" "),r("p",[t._v("参考资料：\n"),r("a",{attrs:{href:"https://jeremyxu2010.github.io/2020/09/python%E5%A4%9A%E8%BF%9B%E7%A8%8B%E5%AE%9E%E6%88%98/",target:"_blank",rel:"noopener noreferrer"}},[t._v("python多进程实战"),r("OutboundLink")],1),t._v(" "),r("a",{attrs:{href:"https://docs.python.org/zh-cn/3/library/multiprocessing.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("multiprocessing"),r("OutboundLink")],1)]),t._v(" "),r("p",[t._v("作者使用 spawn 和 fork 两种方式创建 1000 个进程进行耗时测试，然后再创建 1000 个线程测试，结果如下：")]),t._v(" "),r("table",[r("thead",[r("tr",[r("th",[t._v("方式")]),t._v(" "),r("th",[t._v("总共耗时")]),t._v(" "),r("th",[t._v("平均耗时")])])]),t._v(" "),r("tbody",[r("tr",[r("td",[t._v("spawn 方式进程")]),t._v(" "),r("td",[t._v("42.3 秒")]),t._v(" "),r("td",[t._v("42.3 毫秒")])]),t._v(" "),r("tr",[r("td",[t._v("fork 方式进程")]),t._v(" "),r("td",[t._v("2.07 秒")]),t._v(" "),r("td",[t._v("2.07 毫秒")])]),t._v(" "),r("tr",[r("td",[t._v("线程")]),t._v(" "),r("td",[t._v("0.048 秒")]),t._v(" "),r("td",[t._v("4.8e-05 秒(0.000048)")])])])]),t._v(" "),r("p",[t._v("结论：")]),t._v(" "),r("ol",[r("li",[t._v("fork 要比 spawn 方式创建进程的速度要快 20 倍")]),t._v(" "),r("li",[t._v("创建线程比 fork 进程速度快 43 倍")]),t._v(" "),r("li",[t._v("如果程序需要创建许多的并发，考虑使用线程而不是进程，但是只适合 I/O 密集型任务。")])]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://superfastpython.com/threads-vs-processes-share-data/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Threads are 4x Faster at Sharing Data Than Processes in Python"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("作者做一个在 python 中比较进程和线程在共享数据方面的速度实验。")]),t._v(" "),r("p",[t._v("通过创建线程池和进程池排除创建进程和线程因素，又通过使用基本相同的 API 方式实现，减少其他因素的影响。")]),t._v(" "),r("p",[t._v("结论是"),r("strong",[t._v("线程传输数据的速度比进程快近 4 倍")]),t._v("。原因也很简单，线程可以共享内存，而进程需要通过序列化、传输、接收、反序列化这些过程，增加了计算上的开销。")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://www.wdbyte.com/java/chatgpt-files-list.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("你好 ChatGPT, 帮我看下这段代码有什么问题？"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("作者通过 ChatGPT 来排查 java 代码中的 Bug")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://rohit.blog/care/",target:"_blank",rel:"noopener noreferrer"}},[t._v("No one cares"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("没有人关心你是谁，你知道什么，你创造了什么。人们忙于自己的生活。他们迷失在自己的世界里。")]),t._v(" "),r("p",[t._v("你发行了世界上最棒的音乐专辑？没人在乎。")]),t._v(" "),r("p",[t._v("你花了两年时间写小说？没人在乎。")]),t._v(" "),r("p",[t._v("你制作了一个很棒的应用程序来解决一个大问题？没有人...")]),t._v(" "),r("p",[t._v("这正是营销的用武之地。")]),t._v(" "),r("p",[t._v("我们需要学会推销自己的产品，这是我们要解决的问题。")])])}),[],!1,null,null,null);r.default=o.exports}}]);